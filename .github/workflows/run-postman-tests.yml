      - name: Set test status
        id: test_status
        run: |
          npx newman run REST.postman_collection.json \
            -r htmlextra,cli \
            --reporter-htmlextra-export testResults/htmlreport.html \
            > testResults/output.txt
          echo "exit_code=$?" >> $GITHUB_OUTPUT

      - name: Send Slack notification
        if: always()
        run: |
          if [ "${{ steps.test_status.outputs.exit_code }}" == "0" ]; then
            message="âœ… API tests passed! ğŸ‰"
          else
            message="âŒ API tests failed! Please check the report."
          fi
          curl -X POST -H 'Content-type: application/json' \
            --data "{\"text\": \"$message\nğŸ”— [View report](${GITHUB_PAGES_URL})\"}" \
            ${{ secrets.SLACK_WEBHOOK_URL }}

      - name: Send Telegram notification
        if: always()
        run: |
          if [ "${{ steps.test_status.outputs.exit_code }}" == "0" ]; then
            message="âœ… API tests passed! ğŸ‰"
          else
            message="âŒ API tests failed! Please check the report."
          fi
          curl -s -X POST "https://api.telegram.org/bot${{ secrets.TELEGRAM_BOT_TOKEN }}/sendMessage" \
            -d chat_id=${{ secrets.TELEGRAM_CHAT_ID }} \
            -d text="$message%0AğŸ”— [View report](${GITHUB_PAGES_URL})" \
            -d parse_mode=Markdown


#https://katerynaa13.github.io/postman/test-report/
